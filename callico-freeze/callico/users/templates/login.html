{% extends "base.html" %}
{% load i18n bulma_tags %}

{% block title %}
  {% translate "Login" %}
{% endblock title %}

{% block content %}
  {% if next %}
    <p class="notification is-info">
      {% if user.is_authenticated %}
        {% translate "Your account doesn't have access to this page. To proceed, please login with an account that has access." %}
      {% else %}
        {% translate "Please login to see this page." %}
      {% endif %}
    </p>
  {% endif %}

  <form method="post" action="{% url 'login' %}">
    {% csrf_token %}

    {{ form | bulma }}

    <input type="hidden" name="next" value="{{ next }}">
    <button class="button is-info" type="submit" value="login">{% translate "Login" %}</button>
    <span>
      <a class="button is-ghost" href="{% url 'password_reset' %}">{% translate "Lost password?" %}</a>
    </span>
    {% if SIGNUP_ENABLED %}
      <div class="is-inline-block is-pulled-right">
        <span class="ml-3 has-text-right is-flex is-align-items-center">
          {% translate "Don't have an account?" %}
          <a class="button is-ghost pl-1" href="{% url 'signup' %}{% querystring next=next %}">{% translate "Sign up" %}</a>
        </span>
      </div>
    {% endif %}
  </form>
{% endblock %}
